<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background: #1e293b;
            color: white;
        }
        .dice {
            font-size: 48px;
            margin: 20px;
        }
        #debug {
            margin-top: 30px;
            padding: 15px;
            background: #334155;
            border-radius: 10px;
            text-align: left;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <h1>üé≤ Dice Game</h1>
    <div class="dice" id="dice1">?</div>
    
    <div id="debug">Loading Telegram WebApp data...</div>

    <script>
        // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ Telegram WebApp
        function checkTelegram() {
            const debugEl = document.getElementById('debug');
            
            // 2. –ï—Å–ª–∏ —ç—Ç–æ Telegram WebApp
            if (window.Telegram?.WebApp?.initData) {
                const tg = Telegram.WebApp;
                tg.expand();
                
                // 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                debugEl.innerHTML = `
‚úÖ Telegram WebApp detected!
Version: ${tg.version}
Platform: ${tg.platform}

USER DATA:
${JSON.stringify(tg.initDataUnsafe.user, null, 2)}

THEME PARAMS:
${JSON.stringify(tg.themeParams, null, 2)}

FULL INIT DATA:
${tg.initData}
                `;
                
                // 4. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (tg.initDataUnsafe.user) {
                    document.getElementById('dice1').textContent = 
                        `Hello, ${tg.initDataUnsafe.user.first_name || 'Player'}!`;
                }
                
            } else {
                // 5. –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ Telegram
                debugEl.innerHTML = `
‚ùå NOT IN TELEGRAM WEBAPP!
Open via: https://t.me/your_bot

Debug info:
Location: ${window.location.href}
UserAgent: ${navigator.userAgent}

If you see this in Telegram:
1. Update Telegram app
2. Use MOBILE version (not web)
3. Check bot menu URL
                `;
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
        checkTelegram();
    </script>
</body>
</html>
