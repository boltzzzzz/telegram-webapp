<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        #debug {
            margin-top: 20px;
            padding: 15px;
            background: #2d2d2d;
            border-radius: 10px;
            text-align: left;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>üé≤ Dice Game Debug</h1>
    <div id="debug">Initializing...</div>

    <script>
        // –ü–æ–ª–Ω—ã–π –¥–∞–º–ø –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        function debug() {
            const debugEl = document.getElementById('debug');
            let output = '';
            
            // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp
            if (window.Telegram?.WebApp) {
                const tg = Telegram.WebApp;
                tg.expand();
                
                output += `=== TELEGRAM WEBAPP DETECTED ===\n`;
                output += `Version: ${tg.version}\n`;
                output += `Platform: ${tg.platform}\n`;
                output += `InitData: ${tg.initData}\n\n`;
                
                // 2. –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å user data
                try {
                    output += `=== USER DATA ===\n`;
                    output += JSON.stringify(tg.initDataUnsafe.user || 'No user data', null, 2) + '\n\n';
                    
                    output += `=== THEME ===\n`;
                    output += JSON.stringify(tg.themeParams || 'No theme data', null, 2) + '\n';
                    
                    // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ WebView
                    output += `\n=== WEBVIEW INFO ===\n`;
                    output += `UserAgent: ${navigator.userAgent}\n`;
                    output += `Location: ${window.location.href}\n`;
                    
                } catch (e) {
                    output += `ERROR: ${e.message}\n`;
                }
            } else {
                output += `=== TELEGRAM WEBAPP NOT FOUND ===\n`;
                output += `This page must be opened via Telegram bot menu!\n\n`;
                output += `Debug info:\n`;
                output += `UserAgent: ${navigator.userAgent}\n`;
                output += `Location: ${window.location.href}\n`;
            }
            
            debugEl.textContent = output;
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', debug);
    </script>
</body>
</html>
