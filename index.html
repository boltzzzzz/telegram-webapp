<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram WebApp</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background: #f0f8ff;
        }
        #result {
            margin-top: 30px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }
        .success { background: #e6f7e6; color: #2e8b57; }
        .error { background: #ffebee; color: #d32f2f; }
    </style>
</head>
<body>
    <h1>üéÆ –ò–≥—Ä–∞ –≤ –∫–æ—Å—Ç–∏</h1>
    <div id="result">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <script>
        function init() {
            const result = document.getElementById('result');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ Telegram WebApp
            if (window.Telegram?.WebApp?.initData) {
                const tg = Telegram.WebApp;
                tg.expand(); // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = tg.initDataUnsafe.user;
                if (user) {
                    result.innerHTML = `
                        <p class="success">‚úÖ –í—ã –≤ –∏–≥—Ä–µ!</p>
                        <p>–ò–≥—Ä–æ–∫: <b>${user.first_name || '–ê–Ω–æ–Ω–∏–º'}</b></p>
                        ${user.username ? `<p>Username: @${user.username}</p>` : ''}
                    `;
                } else {
                    result.innerHTML = '<p class="success">‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ!</p>';
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ó–∞–∫—Ä—ã—Ç—å"
                const closeBtn = document.createElement('button');
                closeBtn.textContent = '–ó–∞–∫—Ä—ã—Ç—å';
                closeBtn.onclick = () => tg.close();
                result.appendChild(closeBtn);
                
            } else {
                // –†–µ–∂–∏–º –≤–Ω–µ Telegram
                result.innerHTML = `
                    <p class="error">‚ùå –≠—Ç–æ WebApp Telegram!</p>
                    <p>–û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –≤ <a href="https://t.me/–≤–∞—à_–±–æ—Ç">–≤–∞—à–µ–º –±–æ—Ç–µ</a>.</p>
                    <p><small>–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:</small></p>
                    <ul style="text-align: left;">
                        <li>URL –≤ @BotFather: <code>${window.location.href}</code></li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram</li>
                    </ul>
                `;
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
